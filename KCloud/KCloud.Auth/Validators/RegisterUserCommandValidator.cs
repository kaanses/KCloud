using FluentValidation;using KCloud.Auth.Features.Authentication.Commands;using KCloud.Auth.Interfaces;using KCloud.Auth.Helpers;using Microsoft.Extensions.Localization;namespace KCloud.Auth.Validators;public class RegisterUserCommandValidator : AbstractValidator<RegisterUserCommand>{    private readonly IUnitOfWork _unitOfWork;    private readonly IStringLocalizer _localizer;        public RegisterUserCommandValidator(IUnitOfWork unitOfWork, IStringLocalizer localizer)    {        _unitOfWork = unitOfWork;        _localizer = localizer;                RuleFor(x => x.Username)            .NotEmpty().WithMessage(_localizer["UsernameRequired"])            .MinimumLength(3).WithMessage(_localizer["UsernameMinLength"])            .MaximumLength(50).WithMessage(_localizer["UsernameMaxLength"])            .MustAsync(async (username, cancellationToken) =>                 await RegisterHelper.BeUniqueUsername(_unitOfWork, username, cancellationToken))            .WithMessage(_localizer["UsernameAlreadyTaken"]);        RuleFor(x => x.Email)            .NotEmpty().WithMessage(_localizer["EmailRequired"])            .EmailAddress().WithMessage(_localizer["EmailInvalidFormat"])            .MustAsync(async (email, cancellationToken) =>                 await RegisterHelper.BeUniqueEmail(_unitOfWork, email, cancellationToken))            .WithMessage(_localizer["EmailAlreadyRegistered"]);        RuleFor(x => x.Password)            .NotEmpty().WithMessage(_localizer["PasswordRequired"])            .MinimumLength(6).WithMessage(_localizer["PasswordMinLength"])            .Matches("[A-Z]").WithMessage(_localizer["PasswordRequiresUppercase"])            .Matches("[0-9]").WithMessage(_localizer["PasswordRequiresNumber"]);    }}