using KCloud.FileMetadata.Interfaces;namespace KCloud.FileMetadata.Data;public class UnitOfWork(FileMetadataDbContext context) : IUnitOfWork {    private Dictionary<Type, object>? _repositories;    private bool _disposed = false;    public IRepository<T> Repository<T>() where T : class    {        _repositories ??= new Dictionary<Type, object>();        var type = typeof(T);        if (!_repositories.ContainsKey(type))        {            _repositories[type] = new Repository<T>(context);        }        return (IRepository<T>)_repositories[type];    }    public async Task<int> CommitAsync(CancellationToken cancellationToken = default)    {        return await context.SaveChangesAsync(cancellationToken);    }    }