using FluentValidation;using KCloud.FileMetadata.Features.Files.Commands;using Microsoft.Extensions.Localization;namespace KCloud.FileMetadata.Validators;public class ShareFileWithUsersCommandValidator : AbstractValidator<ShareFileWithUsersCommand>{    private readonly IStringLocalizer _localizer;    public ShareFileWithUsersCommandValidator(IStringLocalizer localizer)    {        _localizer = localizer;        RuleFor(x => x.FileId)            .NotEmpty().WithMessage(_localizer["FileIdRequired"]);                RuleFor(x => x.UserIds)            .NotEmpty().WithMessage(_localizer["AtLeastOneUserRequired"].Value)            .Must(x => x != null && x.Count > 0).WithMessage(_localizer["UserListCannotBeEmpty"].Value)            .Must(x => x != null && x.All(id => id != Guid.Empty)).WithMessage(_localizer["AllUserIdsMustBeValid"]);        RuleFor(x => x.ExpiresAt)            .GreaterThan(DateTime.UtcNow).WithMessage(_localizer["ExpirationDateMustBeFuture"])            .When(x => x.ExpiresAt.HasValue);    }}