using Microsoft.AspNetCore.Authentication.JwtBearer;using Microsoft.IdentityModel.Tokens;using System.Text;using Serilog;Log.Logger = new LoggerConfiguration()    .MinimumLevel.Information()    .WriteTo.Console()    .CreateLogger();var builder = WebApplication.CreateBuilder(args);builder.Services.AddControllers();builder.Services.AddEndpointsApiExplorer();builder.Services.AddSwaggerGen();builder.Services.AddAuthentication(JwtBearerDefaults.AuthenticationScheme)    .AddJwtBearer(options =>    {        options.TokenValidationParameters = new TokenValidationParameters        {            ValidateIssuer = true,            ValidateAudience = true,            ValidateLifetime = true,            ValidateIssuerSigningKey = true,            ValidIssuer = builder.Configuration["Jwt:Issuer"],            ValidAudience = builder.Configuration["Jwt:Audience"],            IssuerSigningKey = new SymmetricSecurityKey(                Encoding.UTF8.GetBytes(builder.Configuration["Jwt:Key"]!))        };    });builder.Services.AddReverseProxy()    .LoadFromConfig(builder.Configuration.GetSection("ReverseProxy"));builder.Services.AddHttpClient("AuthService", client =>{    client.BaseAddress = new Uri(builder.Configuration["Services:Auth:BaseUrl"]!);});builder.Services.AddHttpClient("FileMetadataService", client =>{    client.BaseAddress = new Uri(builder.Configuration["Services:FileMetadata:BaseUrl"]!);});builder.Services.AddHttpClient("FileStorageService", client =>{    client.BaseAddress = new Uri(builder.Configuration["Services:FileStorage:BaseUrl"]!);});var app = builder.Build();// Configure the HTTP request pipelineif (app.Environment.IsDevelopment()){    app.UseSwagger();    app.UseSwaggerUI();}app.UseHttpsRedirection();app.UseAuthentication();app.UseAuthorization();// Map controllersapp.MapControllers();// Map reverse proxy routesapp.MapReverseProxy();app.Run();